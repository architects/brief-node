"use strict";

define("Outline");

attributes("title");

extract("main h1", {
  as: "title",
  first: true
});

section("Table of Contents").hasMany("Sections", {
  title: "h3"
});

/**
* Generate briefcase documents from single outline file.
*
* @example
*
* # Blueprint.io 
* 
* The blueprint.io project is great.
*
* ## Table Of Contents
*
* ### Projects
* - Website
* - API
* - Automation Tools
*
* ### Personas
* - Architect
* - Product Owner
* - UX Designer
*/
action("generate documents", function (params) {
  var outline = this,
      briefcase = this.getBriefcase(),
      tableOfContents = outline.sections.tableOfContents;

  tableOfContents.sections.forEach(function (section) {
    var documentTitle = section.title,
        fileName = util.parameterize(documentTitle);

    var modelClass = briefcase.getModelDefinition(section);

    briefcase.createDocument(modelClass, { title: documentTitle });
  });
});

exports = close();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9tb2RlbHMvb3V0bGluZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQTs7QUFFakIsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFBOztBQUVuQixPQUFPLENBQUMsU0FBUyxFQUFFO0FBQ2pCLElBQUUsRUFBRSxPQUFPO0FBQ1gsT0FBSyxFQUFFLElBQUk7Q0FDWixDQUFDLENBQUE7O0FBRUYsT0FBTyxDQUFDLG1CQUFtQixDQUFDLENBQ3pCLE9BQU8sQ0FBQyxVQUFVLEVBQUU7QUFDbkIsT0FBSyxFQUFFLElBQUk7Q0FDWixDQUFDLENBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBdUJKLE1BQU0sQ0FBQyxvQkFBb0IsRUFBRSxVQUFTLE1BQU0sRUFBRTtBQUM1QyxNQUFJLE9BQU8sR0FBRyxJQUFJO01BQ2QsU0FBUyxHQUFHLElBQUksQ0FBQyxZQUFZLEVBQUU7TUFDL0IsZUFBZSxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsZUFBZSxDQUFBOztBQUV0RCxpQkFBZSxDQUFDLFFBQVEsQ0FBQyxPQUFPLENBQUMsVUFBUyxPQUFPLEVBQUM7QUFDaEQsUUFBSSxhQUFhLEdBQUcsT0FBTyxDQUFDLEtBQUs7UUFDN0IsUUFBUSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsYUFBYSxDQUFDLENBQUE7O0FBRS9DLFFBQUksVUFBVSxHQUFHLFNBQVMsQ0FBQyxrQkFBa0IsQ0FBQyxPQUFPLENBQUMsQ0FBQTs7QUFFdEQsYUFBUyxDQUFDLGNBQWMsQ0FBQyxVQUFVLEVBQUUsRUFBQyxLQUFLLEVBQUUsYUFBYSxFQUFDLENBQUMsQ0FBQTtHQUM3RCxDQUFDLENBQUE7Q0FDSCxDQUFDLENBQUE7O0FBRUYsT0FBTyxHQUFHLEtBQUssRUFBRSxDQUFBIiwiZmlsZSI6Im91dGxpbmUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJkZWZpbmUoXCJPdXRsaW5lXCIpXG5cbmF0dHJpYnV0ZXMoXCJ0aXRsZVwiKVxuXG5leHRyYWN0KFwibWFpbiBoMVwiLCB7XG4gIGFzOiBcInRpdGxlXCIsXG4gIGZpcnN0OiB0cnVlXG59KVxuXG5zZWN0aW9uKFwiVGFibGUgb2YgQ29udGVudHNcIilcbiAgLmhhc01hbnkoXCJTZWN0aW9uc1wiLCB7XG4gICAgdGl0bGU6IFwiaDNcIlxuICB9KVxuXG4vKipcbiogR2VuZXJhdGUgYnJpZWZjYXNlIGRvY3VtZW50cyBmcm9tIHNpbmdsZSBvdXRsaW5lIGZpbGUuXG4qXG4qIEBleGFtcGxlXG4qXG4qICMgQmx1ZXByaW50LmlvIFxuKiBcbiogVGhlIGJsdWVwcmludC5pbyBwcm9qZWN0IGlzIGdyZWF0LlxuKlxuKiAjIyBUYWJsZSBPZiBDb250ZW50c1xuKlxuKiAjIyMgUHJvamVjdHNcbiogLSBXZWJzaXRlXG4qIC0gQVBJXG4qIC0gQXV0b21hdGlvbiBUb29sc1xuKlxuKiAjIyMgUGVyc29uYXNcbiogLSBBcmNoaXRlY3RcbiogLSBQcm9kdWN0IE93bmVyXG4qIC0gVVggRGVzaWduZXJcbiovXG5hY3Rpb24oXCJnZW5lcmF0ZSBkb2N1bWVudHNcIiwgZnVuY3Rpb24ocGFyYW1zKSB7XG4gIHZhciBvdXRsaW5lID0gdGhpcyxcbiAgICAgIGJyaWVmY2FzZSA9IHRoaXMuZ2V0QnJpZWZjYXNlKCksXG4gICAgICB0YWJsZU9mQ29udGVudHMgPSBvdXRsaW5lLnNlY3Rpb25zLnRhYmxlT2ZDb250ZW50c1xuICBcbiAgdGFibGVPZkNvbnRlbnRzLnNlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24oc2VjdGlvbil7XG4gICAgdmFyIGRvY3VtZW50VGl0bGUgPSBzZWN0aW9uLnRpdGxlLFxuICAgICAgICBmaWxlTmFtZSA9IHV0aWwucGFyYW1ldGVyaXplKGRvY3VtZW50VGl0bGUpXG5cbiAgICB2YXIgbW9kZWxDbGFzcyA9IGJyaWVmY2FzZS5nZXRNb2RlbERlZmluaXRpb24oc2VjdGlvbilcbiAgICAgXG4gICAgYnJpZWZjYXNlLmNyZWF0ZURvY3VtZW50KG1vZGVsQ2xhc3MsIHt0aXRsZTogZG9jdW1lbnRUaXRsZX0pXG4gIH0pXG59KVxuXG5leHBvcnRzID0gY2xvc2UoKVxuIl19