"use strict";

define("Outline");

attributes("title");

extract.the.first("main h1").as("title");

section("Table of Contents").hasMany("Sections", {
  title: "h3"
});

/**
* Generate briefcase documents from single outline file.
*
* @example
*
* # Blueprint.io 
* 
* The blueprint.io project is great.
*
* ## Table Of Contents
*
* ### Projects
* - Website
* - API
* - Automation Tools
*
* ### Personas
* - Architect
* - Product Owner
* - UX Designer
*/
action("generate documents", function (params) {
  var outline = this,
      briefcase = this.getBriefcase(),
      tableOfContents = outline.sections.tableOfContents;

  tableOfContents.sections.forEach(function (section) {
    var documentTitle = section.title,
        fileName = util.parameterize(documentTitle);

    var modelClass = briefcase.getModelDefinition(section);

    briefcase.createDocument(modelClass, { title: documentTitle });
  });
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9tb2RlbHMvb3V0bGluZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLE1BQU0sQ0FBQyxTQUFTLENBQUMsQ0FBQTs7QUFFakIsVUFBVSxDQUFDLE9BQU8sQ0FBQyxDQUFBOztBQUVuQixPQUFPLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxTQUFTLENBQUMsQ0FBQyxFQUFFLENBQUMsT0FBTyxDQUFDLENBQUE7O0FBRXhDLE9BQU8sQ0FBQyxtQkFBbUIsQ0FBQyxDQUN6QixPQUFPLENBQUMsVUFBVSxFQUFFO0FBQ25CLE9BQUssRUFBRSxJQUFJO0NBQ1osQ0FBQyxDQUFBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQXVCSixNQUFNLENBQUMsb0JBQW9CLEVBQUUsVUFBUyxNQUFNLEVBQUU7QUFDNUMsTUFBSSxPQUFPLEdBQUcsSUFBSTtNQUNkLFNBQVMsR0FBRyxJQUFJLENBQUMsWUFBWSxFQUFFO01BQy9CLGVBQWUsR0FBRyxPQUFPLENBQUMsUUFBUSxDQUFDLGVBQWUsQ0FBQTs7QUFFdEQsaUJBQWUsQ0FBQyxRQUFRLENBQUMsT0FBTyxDQUFDLFVBQVMsT0FBTyxFQUFDO0FBQ2hELFFBQUksYUFBYSxHQUFHLE9BQU8sQ0FBQyxLQUFLO1FBQzdCLFFBQVEsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLGFBQWEsQ0FBQyxDQUFBOztBQUUvQyxRQUFJLFVBQVUsR0FBRyxTQUFTLENBQUMsa0JBQWtCLENBQUMsT0FBTyxDQUFDLENBQUE7O0FBRXRELGFBQVMsQ0FBQyxjQUFjLENBQUMsVUFBVSxFQUFFLEVBQUMsS0FBSyxFQUFFLGFBQWEsRUFBQyxDQUFDLENBQUE7R0FDN0QsQ0FBQyxDQUFBO0NBQ0gsQ0FBQyxDQUFBIiwiZmlsZSI6Im91dGxpbmUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJkZWZpbmUoXCJPdXRsaW5lXCIpXG5cbmF0dHJpYnV0ZXMoXCJ0aXRsZVwiKVxuXG5leHRyYWN0LnRoZS5maXJzdChcIm1haW4gaDFcIikuYXMoXCJ0aXRsZVwiKVxuXG5zZWN0aW9uKFwiVGFibGUgb2YgQ29udGVudHNcIilcbiAgLmhhc01hbnkoXCJTZWN0aW9uc1wiLCB7XG4gICAgdGl0bGU6IFwiaDNcIlxuICB9KVxuXG4vKipcbiogR2VuZXJhdGUgYnJpZWZjYXNlIGRvY3VtZW50cyBmcm9tIHNpbmdsZSBvdXRsaW5lIGZpbGUuXG4qXG4qIEBleGFtcGxlXG4qXG4qICMgQmx1ZXByaW50LmlvIFxuKiBcbiogVGhlIGJsdWVwcmludC5pbyBwcm9qZWN0IGlzIGdyZWF0LlxuKlxuKiAjIyBUYWJsZSBPZiBDb250ZW50c1xuKlxuKiAjIyMgUHJvamVjdHNcbiogLSBXZWJzaXRlXG4qIC0gQVBJXG4qIC0gQXV0b21hdGlvbiBUb29sc1xuKlxuKiAjIyMgUGVyc29uYXNcbiogLSBBcmNoaXRlY3RcbiogLSBQcm9kdWN0IE93bmVyXG4qIC0gVVggRGVzaWduZXJcbiovXG5hY3Rpb24oXCJnZW5lcmF0ZSBkb2N1bWVudHNcIiwgZnVuY3Rpb24ocGFyYW1zKSB7XG4gIHZhciBvdXRsaW5lID0gdGhpcyxcbiAgICAgIGJyaWVmY2FzZSA9IHRoaXMuZ2V0QnJpZWZjYXNlKCksXG4gICAgICB0YWJsZU9mQ29udGVudHMgPSBvdXRsaW5lLnNlY3Rpb25zLnRhYmxlT2ZDb250ZW50c1xuICBcbiAgdGFibGVPZkNvbnRlbnRzLnNlY3Rpb25zLmZvckVhY2goZnVuY3Rpb24oc2VjdGlvbil7XG4gICAgdmFyIGRvY3VtZW50VGl0bGUgPSBzZWN0aW9uLnRpdGxlLFxuICAgICAgICBmaWxlTmFtZSA9IHV0aWwucGFyYW1ldGVyaXplKGRvY3VtZW50VGl0bGUpXG5cbiAgICB2YXIgbW9kZWxDbGFzcyA9IGJyaWVmY2FzZS5nZXRNb2RlbERlZmluaXRpb24oc2VjdGlvbilcbiAgICAgXG4gICAgYnJpZWZjYXNlLmNyZWF0ZURvY3VtZW50KG1vZGVsQ2xhc3MsIHt0aXRsZTogZG9jdW1lbnRUaXRsZX0pXG4gIH0pXG59KVxuIl19